# AI 图片编辑功能说明

本文档详细介绍 AstrBot AI 图像生成插件的 AI 图片编辑功能，帮助您快速掌握使用方法。

## 目录

- [概述](#概述)
- [功能特点](#功能特点)
- [基本用法](#基本用法)
- [参数说明](#参数说明)
- [任务类型](#任务类型)
- [使用示例](#使用示例)
- [提示词技巧](#提示词技巧)
- [常见问题](#常见问题)
- [相关文档](#相关文档)

## 概述

AI 图片编辑功能使用 Gitee AI 的 Qwen-Image-Edit-2511 模型，通过自然语言描述对图片进行智能编辑。支持风格编辑和身份编辑两种模式，可以轻松实现图片风格的转换、背景更换、细节优化等效果。

## 功能特点

- ✅ **自然语言控制**：用简单的文字描述即可实现复杂的图片编辑
- ✅ **两种编辑模式**：风格编辑和身份编辑，满足不同需求
- ✅ **多图支持**：支持同时编辑多张图片
- ✅ **智能处理**：AI 自动理解图片内容，智能应用编辑效果
- ✅ **高质量输出**：生成高质量的编辑结果
- ✅ **快速响应**：优化的 API 调用，快速返回结果

## 基本用法

### 命令格式

```
/ai-gitee ai-edit <提示词> [任务类型]
```

### 使用步骤

1. **发送图片**：选择要编辑的图片发送到聊天中
2. **输入命令**：在图片消息后输入编辑命令
3. **等待结果**：AI 处理完成后会返回编辑后的图片

### 示例

```
[发送一张照片]
/ai-gitee ai-edit 将这张照片转换成油画风格
```

## 参数说明

### 提示词（必需）

描述您想要的编辑效果，使用自然语言即可。

**示例**：
- `将这张照片转换成油画风格`
- `让这张照片更有电影感`
- `保持人物特征，改变背景为海滩`

**提示词编写技巧**：
- 📝 使用清晰、具体的描述
- 🎨 描述想要的风格或效果
- 🌄 描述场景或背景变化
- 👤 描述人物特征（如果需要）

### 任务类型（可选）

指定编辑任务类型，决定 AI 如何处理图片。

| 任务类型    | 说明       | 适用场景          |
|---------|----------|---------------|
| `style` | 风格编辑（默认） | 改变图片整体风格      |
| `id`    | 身份编辑     | 保持人物身份，改变其他元素 |

**默认值**：`style`

## 任务类型详解

### style - 风格编辑

风格编辑模式会改变图片的整体风格，包括色彩、纹理、氛围等。

**适用场景**：
- 🎨 艺术风格转换（油画、水彩、素描等）
- 🌅 光线和氛围调整
- 🎭 时代风格转换（复古、现代等）
- 📷 摄影风格转换（电影感、专业摄影等）

**示例提示词**：
- `转换成油画风格`
- `添加电影感`
- `变成复古照片风格`
- `增加柔和的光线`
- `转换成动漫风格`

**使用示例**：
```
[发送照片]
/ai-gitee ai-edit 将这张照片转换成油画风格
```

或明确指定任务类型：
```
[发送照片]
/ai-gitee ai-edit 将这张照片转换成油画风格 style
```

---

### id - 身份编辑

身份编辑模式会保持人物的核心身份特征（如面部特征、发型、体型等），同时改变其他元素（如背景、服装、姿势等）。

**适用场景**：
- 👤 更换背景（如从室内到海滩）
- 👗 更换服装
- 🌄 改变场景
- 🎭 保持人物特征的同时改变其他元素

**示例提示词**：
- `保持人物特征，改变背景为海滩`
- `保持人物身份，更换为正式服装`
- `保持人物特征，改变场景为森林`
- `保持人物身份，改变背景为城市夜景`

**使用示例**：
```
[发送照片]
/ai-gitee ai-edit 保持人物特征，改变背景为海滩 id
```

**注意事项**：
- ⚠️ 身份编辑需要图片中有清晰的人物
- ⚠️ 人物特征越清晰，身份保持效果越好
- ⚠️ 如果图片中没有人物，效果可能不明显

---

## 使用示例

### 示例 1：风格编辑 - 油画风格

**目标**：将照片转换成油画风格

**命令**：
```
[发送一张风景照片]
/ai-gitee ai-edit 将这张照片转换成油画风格
```

**预期效果**：
- ✅ 照片呈现油画的笔触效果
- ✅ 色彩更加浓郁
- ✅ 艺术感增强

---

### 示例 2：风格编辑 - 电影感

**目标**：为照片添加电影感

**命令**：
```
[发送一张人像照片]
/ai-gitee ai-edit 让这张照片更有电影感
```

**预期效果**：
- ✅ 光线更加戏剧化
- ✅ 色彩更加饱满
- ✅ 电影级的画面质感

---

### 示例 3：身份编辑 - 更换背景

**目标**：保持人物特征，更换背景

**命令**：
```
[发送一张人物照片]
/ai-gitee ai-edit 保持人物特征，改变背景为海滩 id
```

**预期效果**：
- ✅ 人物面部特征保持不变
- ✅ 背景更换为海滩
- ✅ 光线自然融合

---

### 示例 4：身份编辑 - 更换服装

**目标**：保持人物身份，更换服装

**命令**：
```
[发送一张人物照片]
/ai-gitee ai-edit 保持人物特征，更换为正式服装 id
```

**预期效果**：
- ✅ 人物面部特征保持不变
- ✅ 服装更换为正式服装
- ✅ 整体风格协调

---

### 示例 5：多图编辑

**目标**：同时编辑多张图片

**命令**：
```
[发送多张照片]
/ai-gitee ai-edit 将这些照片都转换成油画风格
```

**预期效果**：
- ✅ 所有照片都应用油画风格
- ✅ 保持各自的构图和内容
- ✅ 风格统一

---

## 提示词技巧

### 技巧 1：使用清晰的描述

**模糊描述**：
```
让这张照片好看一点
```

**清晰描述**：
```
将这张照片转换成油画风格，增加艺术感
```

---

### 技巧 2：描述具体的效果

**基础描述**：
```
改变风格
```

**具体描述**：
```
转换成印象派油画风格，使用明亮的色彩和粗犷的笔触
```

---

### 技巧 3：描述光线和氛围

**示例**：
```
添加柔和的晨光，营造宁静的氛围
```

```
增加戏剧性的侧光，创造电影感
```

```
使用温暖的夕阳光线，营造浪漫的氛围
```

---

### 技巧 4：描述艺术风格

**常见艺术风格**：

| 风格   | 提示词示例       |
|------|-------------|
| 油画   | `转换成油画风格`   |
| 水彩   | `转换成水彩画风格`  |
| 素描   | `转换成铅笔素描风格` |
| 动漫   | `转换成动漫风格`   |
| 复古   | `转换成复古照片风格` |
| 电影感  | `添加电影感`     |
| 专业摄影 | `转换成专业摄影风格` |

---

### 技巧 5：身份编辑技巧

**保持人物特征**：
```
保持人物特征，改变背景为海滩
```

**保持人物身份**：
```
保持人物身份，更换为正式服装
```

**保持人物特征，改变场景**：
```
保持人物特征，改变场景为森林
```

**注意事项**：
- 🔑 明确说明"保持人物特征"或"保持人物身份"
- 🔑 描述要改变的元素（背景、服装、场景等）
- 🔑 确保使用 `id` 任务类型

---

### 技巧 6：组合多个效果

**示例**：
```
转换成油画风格，同时增加柔和的光线和浪漫的氛围
```

**示例**：
```
添加电影感，使用戏剧性的光线和饱满的色彩
```

---

## 常见问题

### Q: AI 编辑需要多长时间？

**A**: 编辑时间取决于图片大小、数量和复杂度：
- 单张图片：通常 30 秒到 2 分钟
- 多张图片：时间相应增加
- 复杂编辑：可能需要更长时间

### Q: 可以编辑哪些类型的图片？

**A**: 支持大多数常见图片格式：
- ✅ PNG
- ✅ JPG/JPEG
- ✅ WEBP
- ❌ 不支持 GIF（动画）

### Q: 可以同时编辑多少张图片？

**A**: 理论上没有限制，但建议：
- 📊 1-3 张：最佳效果
- 📊 4-6 张：效果良好
- 📊 7+ 张：效果可能下降

### Q: 编辑效果不理想怎么办？

**A**: 尝试以下方法：
1. 优化提示词，使用更具体的描述
2. 尝试不同的任务类型（style 或 id）
3. 确保图片质量良好
4. 尝试使用不同的提示词描述

### Q: 身份编辑和风格编辑有什么区别？

**A**: 
- **风格编辑（style）**：改变图片的整体风格，包括色彩、纹理、氛围等
- **身份编辑（id）**：保持人物的核心身份特征，同时改变其他元素

### Q: 如何获得更好的编辑效果？

**A**: 提示词编写建议：
1. 📝 使用清晰、具体的描述
2. 🎨 描述想要的具体效果
3. 🌄 描述场景或背景变化
4. 👤 身份编辑时明确说明"保持人物特征"
5. 🔄 尝试不同的表达方式

### Q: 编辑失败怎么办？

**A**: 检查以下几点：
1. 确保发送了图片
2. 检查提示词是否为空
3. 检查 API Key 是否有效
4. 查看错误日志
5. 尝试重新发送

### Q: 可以撤销编辑吗？

**A**: 目前不支持撤销编辑。建议：
- 💾 保存原始图片
- 🔄 如不满意，可以重新编辑原始图片

### Q: 编辑会影响图片质量吗？

**A**: 编辑会重新生成图片，质量取决于：
- 原始图片质量
- 提示词描述
- 模型性能

一般来说，编辑后的图片质量会保持或提升。

### Q: 可以连续编辑吗？

**A**: 可以！您可以：
1. 对原始图片进行第一次编辑
2. 对编辑后的图片进行第二次编辑
3. 重复此过程直到满意

**示例**：
```
[发送照片]
/ai-gitee ai-edit 转换成油画风格

[发送编辑后的照片]
/ai-gitee ai-edit 增加柔和的光线
```

### Q: 编辑支持哪些效果？

**A**: 支持的效果取决于提示词描述，常见效果包括：
- 🎨 艺术风格转换
- 🌅 光线和氛围调整
- 🌄 背景更换
- 👗 服装更换
- 🎭 整体风格改变

---

## 高级用法

### 组合使用命令

您可以组合使用多个命令来实现复杂效果：

```
# 步骤 1：生成基础图片
/ai-gitee generate 一个可爱的女孩

# 步骤 2：转换为手办风格
[发送上一步生成的图片]
/ai-gitee style 手办化

# 步骤 3：使用 AI 编辑优化
[发送上一步生成的图片]
/ai-gitee ai-edit 增加电影感和柔和的光线
```

---

### 批量编辑

编辑多张图片并应用相同效果：

```
[发送多张照片]
/ai-gitee ai-edit 将这些照片都转换成油画风格
```

---

### 渐进式编辑

逐步优化图片：

```
# 第一次编辑
[发送照片]
/ai-gitee ai-edit 转换成油画风格

# 第二次编辑（基于第一次编辑结果）
[发送编辑后的照片]
/ai-gitee ai-edit 增加柔和的光线

# 第三次编辑（基于第二次编辑结果）
[发送编辑后的照片]
/ai-gitee ai-edit 增加浪漫的氛围
```

---

## 最佳实践

### 1. 选择合适的任务类型

- 🎨 **风格编辑（style）**：适合整体风格改变
- 👤 **身份编辑（id）**：适合需要保持人物特征的场景

### 2. 编写清晰的提示词

- ✅ 使用具体、明确的描述
- ✅ 描述想要的具体效果
- ✅ 避免模糊不清的描述

### 3. 使用高质量原始图片

- 📷 原始图片质量越好，编辑效果越好
- 📷 确保图片清晰、光线良好
- 📷 避免模糊、过暗的图片

### 4. 逐步优化

- 🔄 不要期望一次编辑就完美
- 🔄 可以多次编辑逐步优化
- 🔄 每次编辑都基于上一次的结果

### 5. 保存原始图片

- 💾 保留原始图片备份
- 💾 如不满意，可以重新编辑
- 💾 便于对比编辑前后的效果

---

## 相关文档

- 📖 [快速开始](getting-started.md) - 安装和配置指南
- ⚙️ [配置说明](configuration.md) - 详细的配置选项
- 📚 [使用指南](user-guide.md) - 指令调用方法
- 📐 [支持的图像尺寸](image-sizes.md) - 尺寸和比例详情
- 🖼️ [出图展示区](examples.md) - 生成示例和提示词技巧
- 🛠️ [故障排除](troubleshooting.md) - 常见问题解决

---

## 快速参考

### 常用命令

| 命令                              | 说明       |
|---------------------------------|----------|
| `/ai-gitee ai-edit <提示词>`       | 风格编辑（默认） |
| `/ai-gitee ai-edit <提示词> style` | 明确指定风格编辑 |
| `/ai-gitee ai-edit <提示词> id`    | 身份编辑     |

### 常用提示词

| 效果   | 提示词                 |
|------|---------------------|
| 油画风格 | `转换成油画风格`           |
| 水彩风格 | `转换成水彩画风格`          |
| 电影感  | `添加电影感`             |
| 更换背景 | `保持人物特征，改变背景为海滩 id` |
| 复古风格 | `转换成复古照片风格`         |
| 动漫风格 | `转换成动漫风格`           |
| 柔和光线 | `增加柔和的光线`           |

---

希望本文档能帮助您快速掌握 AI 图片编辑功能！如有疑问，请参考相关文档或寻求帮助。🎨✨