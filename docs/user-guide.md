# 使用指南

本指南详细介绍如何使用 AstrBot AI 图像生成插件的各种功能。

## 目录

- [概述](#概述)
- [指令调用](#指令调用)
- [命令详解](#命令详解)
- [提示词技巧](#提示词技巧)
- [常见场景](#常见场景)
- [高级技巧](#高级技巧)

## 概述

本插件通过 `/ai-gitee` 指令提供丰富的图像生成和编辑功能，包括文生图、图生图、风格转换、AI 编辑等。

## 指令调用

指令调用是通过发送特定命令来触发插件功能的方式，适合需要精确控制参数的场景。

### 基本语法

所有指令都以 `/ai-gitee` 开头，后跟子命令和参数。

```
/ai-gitee <子命令> [参数1] [参数2] ...
```

### 可用命令

| 命令             | 说明      | 用途            |
|----------------|---------|---------------|
| `generate`     | 生成图片    | 文生图，支持自定义比例   |
| `style`        | 风格转换    | 将图片转换为指定风格    |
| `ai-edit`      | AI 图片编辑 | 智能编辑图片        |
| `switch-model` | 切换模型    | 更换当前使用的 AI 模型 |
| `text2image`   | 模型列表    | 查看可用的模型列表     |
| `help`         | 帮助信息    | 显示所有命令的帮助     |

## 命令详解

### 1. generate - 生成图片

通过文本描述生成图片。

#### 基本语法

```
/ai-gitee generate <提示词> [比例]
```

#### 参数说明

| 参数  | 必填 | 说明         | 示例        |
|-----|----|------------|-----------|
| 提示词 | 是  | 描述您想要的图片内容 | `一只可爱的猫咪` |
| 比例  | 否  | 图片的长宽比     | `9:16`    |

#### 支持的比例

| 比例   | 说明   | 常用场景    |
|------|------|---------|
| 1:1  | 正方形  | 头像、社交媒体 |
| 4:3  | 横向   | 传统照片    |
| 3:4  | 纵向   | 人像摄影    |
| 3:2  | 横向宽屏 | 风景摄影    |
| 2:3  | 纵向宽屏 | 人像艺术    |
| 16:9 | 宽屏   | 电脑壁纸    |
| 9:16 | 竖屏   | 手机壁纸    |

#### 使用示例

**示例 1：基本用法**

```
/ai-gitee generate 一只可爱的猫咪
```

生成一张 1024x1024 的正方形猫咪图片。

**示例 2：指定比例**

```
/ai-gitee generate 美丽的日落风景 16:9
```

生成一张 2048x1152 的宽屏日落风景图。

**示例 3：详细描述**

```
/ai-gitee generate 一个穿着粉色连衣裙的女孩站在樱花树下，阳光透过花瓣洒在她身上，动漫风格，高质量
```

生成一张详细的动漫风格图片。

#### 提示词技巧

- ✅ 使用具体的描述（颜色、风格、场景）
- ✅ 添加质量关键词（高质量、8K、细节丰富）
- ✅ 使用英文提示词（模型理解更好）
- ❌ 避免过于抽象的描述

### 2. style - 风格转换

将图片转换为指定风格，支持文生图和图生图。

#### 基本语法

```
/ai-gitee style <风格名称> [自定义描述] [比例]
```

#### 参数说明

| 参数    | 必填 | 说明      | 示例        |
|-------|----|---------|-----------|
| 风格名称  | 是  | 要转换的风格  | `手办化`     |
| 自定义描述 | 否  | 额外的描述信息 | `一个可爱的女孩` |
| 比例    | 否  | 图片的长宽比  | `9:16`    |

#### 文生图 vs 图生图

**文生图**（不发送图片）：
```
/ai-gitee style 手办化
```
根据风格提示词生成新图片。

**图生图**（发送图片）：
```
[发送图片]
/ai-gitee style 手办化
```
将发送的图片转换为手办风格。

#### 支持的风格

##### 手办化系列

| 风格   | 说明           |
|------|--------------|
| 手办化  | 经典手办风格，带展示底座 |
| 手办化2 | 带包装盒的手办      |
| 手办化3 | 商业化手办，带包装    |
| 手办化4 | 展示柜中的手办      |
| 手办化5 | 游戏截图风格手办     |
| 手办化6 | 高端收藏级手办      |

**示例**：
```
/ai-gitee style 手办化 一个可爱的女孩
```

##### Q版化系列

| 风格   | 说明        |
|------|-----------|
| Q版化  | 经典 Q 版风格  |
| Q版化2 | 超级可爱的 Q 版 |
| Q版化3 | 极简 Q 版    |
| Q版化4 | 3D Q 版角色  |
| Q版化5 | 圆润的 Q 版   |
| Q版化6 | 动漫 Q 版    |

**示例**：
```
/ai-gitee style Q版2 一只可爱的猫咪
```

##### Cosplay 系列

| 风格     | 说明         |
|--------|------------|
| cos化   | 经典 Cosplay |
| cos化2  | 工作室摄影风格    |
| cos化3  | 户外摄影风格     |
| cos化4  | 漫展现场风格     |
| cos化5  | 电影风格       |
| cos化6  | 艺术时尚风格     |
| cos自拍  | 卧室自拍风格     |
| cos自拍2 | 浴室自拍风格     |
| cos自拍3 | 后台化妆间风格    |
| cos自拍4 | 漫展现场自拍     |
| cos自拍5 | 咖啡馆自拍      |
| cos自拍6 | 屋顶日落自拍     |

**示例**：
```
/ai-gitee style cos化 猫娘
```

##### 场景化系列

| 风格    | 说明           |
|-------|--------------|
| 痛屋化   | 极客卧室风格       |
| 痛屋化2  | 日式痛屋风格       |
| 痛屋化3  | 舒适卧室风格       |
| 痛屋化4  | 高端展示厅风格      |
| 痛屋化5  | 漫展摊位风格       |
| 痛屋化6  | 赛博朋克风格       |
| 痛车化   | 小米 SU7 贴纸车   |
| 痛车化2  | 丰田 AE86 贴纸车  |
| 痛车化3  | 可爱 K-Car 贴纸车 |
| 痛车化4  | 重型卡车贴纸车      |
| 痛车化5  | 新干线贴纸车       |
| 痛车化6  | 摩托车贴纸车       |
| 孤独的我  | 餐厅孤独场景       |
| 孤独的我2 | 公园孤独场景       |
| 孤独的我3 | 电影院孤独场景      |
| 孤独的我4 | 雨天街道孤独场景     |
| 孤独的我5 | 咖啡馆孤独场景      |
| 孤独的我6 | 节日人群孤独场景     |
| 第一视角  | Comiket 面对面  |
| 第一视角2 | 咖啡馆约会        |
| 第一视角3 | 节日祭典         |
| 第一视角4 | 新干线旅行        |
| 第一视角5 | 卧室游戏         |
| 第一视角6 | KTV 唱歌       |
| 第三视角  | 快餐店旁观        |
| 第三视角2 | 咖啡馆旁观        |
| 第三视角3 | 车站旁观         |
| 第三视角4 | 节日旁观         |
| 第三视角5 | 图书馆旁观        |
| 第三视角6 | 屋顶日落旁观       |

**示例**：
```
/ai-gitee style 痛屋化
```

##### 物品化系列

| 风格   | 说明        |
|------|-----------|
| 贴纸化  | 专业贴纸套装    |
| 贴纸化2 | 动漫风格贴纸    |
| 贴纸化3 | 复古怀旧贴纸    |
| 贴纸化4 | 全息幻彩贴纸    |
| 贴纸化5 | 手绘水彩贴纸    |
| 贴纸化6 | 3D 浮雕贴纸   |
| 玉足   | 足部特写手办    |
| 玩偶化  | Fumo 玩偶风格 |
| 3D打印 | 3D 打印模型   |
| 微型化  | 微缩模型      |
| 挂件化  | 挂件/钥匙扣    |

**示例**：
```
/ai-gitee style 贴纸化
```

##### 角色设计系列

| 风格    | 说明       |
|-------|----------|
| cos相遇 | 漫展相遇场景   |
| 三视图   | 正面侧面背面视图 |
| 穿搭拆解  | 服装拆解展示   |
| 拆解图   | 模型盒拆解图   |
| 角色界面  | 游戏角色界面   |
| 角色设定  | 完整角色设定   |

**示例**：
```
/ai-gitee style 三视图
```

##### 多图生成系列

| 风格    | 说明      |
|-------|---------|
| 姿势表   | 各种姿势展示  |
| 绘画四宫格 | 绘画过程四宫格 |
| 发型九宫格 | 九种发型展示  |
| 头像九宫格 | 九种头像展示  |
| 表情九宫格 | 九种表情展示  |

**示例**：
```
/ai-gitee style 表情九宫格
```

##### 特殊效果系列

| 风格   | 说明     |
|------|--------|
| 高清修复 | 高清修复增强 |
| 人物转身 | 人物转身效果 |
| 多机位  | 多机位镜头  |
| 电影分镜 | 电影分镜效果 |
| 动漫分镜 | 动漫分镜效果 |
| 真人化  | 真人化风格  |
| 真人化2 | 真人化风格2 |
| 半真人  | 半真人风格  |
| 半融合  | 半融合风格  |

**示例**：
```
/ai-gitee style 高清修复
```

#### 使用示例

**示例 1：文生图 - 基本风格**

```
/ai-gitee style 手办化
```

根据手办化风格提示词生成新图片。

**示例 2：文生图 - 自定义描述**

```
/ai-gitee style Q版化 一个可爱的猫咪
```

生成 Q 版风格的可爱猫咪。

**示例 3：文生图 - 指定比例**

```
/ai-gitee style cos化 猫娘 9:16
```

生成 9:16 比例的 Cosplay 风格图片。

**示例 4：图生图 - 风格转换**

```
[发送一张照片]
/ai-gitee style 手办化
```

将发送的照片转换为手办风格。

#### 查看所有风格

发送以下命令查看所有可用风格：

```
/ai-gitee style
```

### 3. ai-edit - AI 图片编辑

使用 AI 智能编辑图片，支持身份编辑和风格编辑。

#### 基本语法

```
/ai-gitee ai-edit <提示词> [任务类型]
```

#### 参数说明

| 参数   | 必填 | 说明         | 示例             |
|------|----|------------|----------------|
| 提示词  | 是  | 描述您想要的编辑效果 | `转换成油画风格`      |
| 任务类型 | 否  | 编辑任务类型     | `id` 或 `style` |

#### 任务类型

| 类型      | 说明   | 适用场景          |
|---------|------|---------------|
| `id`    | 身份编辑 | 保持人物身份，改变其他元素 |
| `style` | 风格编辑 | 改变图片整体风格（默认）  |

#### 使用示例

**示例 1：风格编辑（默认）**

```
[发送一张照片]
/ai-gitee ai-edit 将这张照片转换成油画风格
```

将照片转换为油画风格。

**示例 2：风格编辑（指定类型）**

```
[发送一张照片]
/ai-gitee ai-edit 让这张照片更有电影感 style
```

添加电影感效果。

**示例 3：身份编辑**

```
[发送一张照片]
/ai-gitee ai-edit 保持人物特征，改变背景为海滩 id
```

保持人物特征，只改变背景。

#### 注意事项

- ⚠️ 必须同时发送要编辑的图片
- ⚠️ 支持多张图片编辑
- ⚠️ 编辑效果取决于提示词的质量

### 4. switch-model - 切换模型

切换当前使用的 AI 模型。

#### 基本语法

```
/ai-gitee switch-model <模型名称>
```

#### 参数说明

| 参数   | 必填 | 说明        | 示例              |
|------|----|-----------|-----------------|
| 模型名称 | 是  | 要切换到的模型名称 | `z-image-turbo` |

#### 可用模型

| 模型名称            | 说明                 | 特点           |
|-----------------|--------------------|--------------|
| `z-image-turbo` | 默认模型               | 快速、高效、高质量    |
| `flux-schnell`  | Flux 快速版           | 生成速度快，适合批量生成 |
| `flux-dev`      | Flux 开发版           | 质量更高，速度稍慢    |
| `sd3`           | Stable Diffusion 3 | 最新版本，质量优异    |
| `qwen-image`    | 通义千问图像模型           | 中文优化，细节丰富    |

#### 使用示例

**示例 1：切换到默认模型**

```
/ai-gitee switch-model z-image-turbo
```

**示例 2：切换到快速模型**

```
/ai-gitee switch-model flux-schnell
```

**示例 3：切换到高质量模型**

```
/ai-gitee switch-model flux-dev
```

#### 模型选择建议

| 场景    | 推荐模型               | 说明       |
|-------|--------------------|----------|
| 日常使用  | `z-image-turbo`    | 速度与质量的平衡 |
| 批量生成  | `flux-schnell`     | 更快速度     |
| 高质量需求 | `flux-dev` 或 `sd3` | 更好细节     |
| 中文场景  | `qwen-image`       | 中文理解更准确  |

### 5. text2image - 模型列表

查看可用的 AI 模型列表。

#### 基本语法

```
/ai-gitee text2image [--type=<类型>]
```

#### 参数说明

| 参数 | 必填 | 说明 | 默认值 |
|------|------|------|--------|
| --type | 否 | 模型类型筛选 | `text2image` |

#### 支持的类型

| 类型                         | 说明           |
|----------------------------|--------------|
| `all`                      | 所有类型         |
| `text2image`               | 文本生成图像（默认）   |
| `text2text`                | 文本生成文本       |
| `embeddings`               | 向量嵌入生成       |
| `image2text`               | 图像转文本        |
| `speech2text`              | 语音转文本        |
| `text2speech`              | 文本转语音        |
| `completions`              | 补全任务         |
| `image2image`              | 图像生成图像       |
| `voice_feature_extraction` | 语音特征提取       |
| `sentence_similarity`      | 句子相似度计算      |
| `rerank`                   | 重排序          |
| `image_matting`            | 图像抠图         |
| `text2video`               | 文本生成视频       |
| `image2video`              | 图像生成视频       |
| `doc2md`                   | 文档转 Markdown |
| `text23d`                  | 文本生成 3D 模型   |
| `image23d`                 | 图像生成 3D 模型   |
| `rerank_multimodal`        | 多模态重排序       |
| `text2music`               | 文本生成音乐       |
| `image_video2video`        | 图像/视频生成视频    |
| `audio_video2video`        | 音频/视频生成视频    |

#### 使用示例

**示例 1：查看文本生成图像模型（默认）**

```
/ai-gitee text2image
```

**示例 2：查看所有类型模型**

```
/ai-gitee text2image --type=all
```

**示例 3：查看文本生成文本模型**

```
/ai-gitee text2image --type=text2text
```

### 6. help - 帮助信息

显示所有命令的帮助信息。

#### 基本语法

```
/ai-gitee help
```

#### 使用示例

```
/ai-gitee help
```

## 提示词技巧

### 基本原则

好的提示词应该包含以下要素：

1. **主体**：图片的主要对象
2. **动作**：主体在做什么
3. **场景**：背景环境
4. **风格**：艺术风格
5. **细节**：颜色、光线、构图等

### 提示词结构

```
主体 + 动作 + 场景 + 风格 + 细节
```

### 示例对比

#### 简单提示词

```
一只猫
```

**问题**：太简单，生成的图片可能不够具体。

#### 优化后的提示词

```
一只可爱的橘色猫咪，坐在窗台上，阳光透过窗户洒在它身上，毛茸茸的毛发闪闪发光，背景是蓝天白云，高质量，8K，细节丰富
```

**优点**：包含主体、动作、场景、光线、质量描述。

### 常用关键词

#### 质量关键词

| 关键词               | 说明     |
|-------------------|--------|
| `high quality`    | 高质量    |
| `8K`              | 8K 分辨率 |
| `highly detailed` | 高度细节   |
| `masterpiece`     | 杰作     |
| `best quality`    | 最佳质量   |
| `ultra detailed`  | 超级细节   |

#### 风格关键词

| 关键词              | 说明    |
|------------------|-------|
| `anime style`    | 动漫风格  |
| `realistic`      | 写实风格  |
| `oil painting`   | 油画风格  |
| `watercolor`     | 水彩风格  |
| `digital art`    | 数字艺术  |
| `cinematic`      | 电影感   |
| `photorealistic` | 照片级写实 |

#### 光线关键词

| 关键词                 | 说明    |
|---------------------|-------|
| `soft lighting`     | 柔和光线  |
| `golden hour`       | 黄金时刻  |
| `dramatic lighting` | 戏剧性光线 |
| `natural light`     | 自然光   |
| `studio lighting`   | 工作室光线 |
| `backlight`         | 逆光    |

### 提示词模板

#### 人物肖像

```
一个[年龄][性别]，[发型]，[表情]，[服装]，在[场景]，[光线]，[风格]，高质量
```

**示例**：
```
一个20岁的女孩，长发，微笑，穿着白色连衣裙，在樱花树下，柔和的阳光，动漫风格，高质量
```

#### 风景画

```
[场景描述]，[时间]，[天气]，[光线]，[风格]，高质量
```

**示例**：
```
美丽的日落海滩，傍晚，晴朗，金色的阳光洒在海面上，电影感，8K，细节丰富
```

#### 动物

```
一只[动物种类]，[颜色]，[动作]，在[场景]，[光线]，[风格]
```

**示例**：
```
一只橘色的猫咪，坐在窗台上，看着窗外，阳光透过窗户，写实风格，高质量
```

### 高级技巧

#### 1. 使用英文提示词

虽然模型支持中文，但英文提示词通常效果更好：

```
a beautiful girl with long hair, smiling, wearing a white dress, standing under cherry blossom trees, soft sunlight, anime style, high quality, 8K
```

#### 2. 权重控制

使用括号可以调整关键词的权重：

```
(cute:1.2) girl, (beautiful:1.3), (detailed:1.1)
```

#### 3. 负面提示词

在配置中设置负面提示词，避免不想要的元素：

```json
{
  "negative_prompt": "low quality, bad anatomy, blurry, watermark, text"
}
```

#### 4. 多次尝试

如果第一次生成的图片不满意，可以：

1. 调整提示词描述
2. 添加更多细节
3. 改变风格关键词
4. 切换模型

## 常见场景

### 场景 1：生成头像

**需求**：生成一个可爱的动漫风格头像

**方法 1：指令调用**

```
/ai-gitee generate 一个可爱的动漫女孩头像，粉色头发，蓝色眼睛，微笑，高质量
```

**方法 2：风格转换**

```
/ai-gitee style Q版化 一个可爱的女孩
```

### 场景 2：生成手机壁纸

**需求**：生成一张 9:16 比例的手机壁纸

**方法**：

```
/ai-gitee generate 美丽的日落风景，海边，金色的阳光，电影感，9:16
```

### 场景 3：风格转换照片

**需求**：将照片转换成手办风格

**方法**：

```
[发送一张照片]
/ai-gitee style 手办化
```

### 场景 4：批量生成图片

**需求**：快速生成多张图片

**方法**：

1. 切换到快速模型：

```
/ai-gitee switch-model flux-schnell
```

2. 多次调用生成命令：

```
/ai-gitee generate 一只可爱的猫咪
/ai-gitee generate 一只橘色的猫咪
/ai-gitee generate 一只白色的猫咪
/ai-gitee generate 一只黑色的猫咪
/ai-gitee generate 一只花色的猫咪
```

### 场景 5：编辑照片

**需求**：将照片转换成油画风格

**方法**：

```
[发送一张照片]
/ai-gitee ai-edit 将这张照片转换成油画风格
```

## 高级技巧

### 1. 组合使用命令

可以组合使用多个命令来实现复杂效果：

```
# 步骤 1：生成基础图片
/ai-gitee generate 一个可爱的女孩

# 步骤 2：转换为手办风格
[发送上一步生成的图片]
/ai-gitee style 手办化

# 步骤 3：进行风格编辑
[发送上一步生成的图片]
/ai-gitee ai-edit 添加电影感效果
```

### 2. 使用多张图片进行编辑

```
[发送多张照片]
/ai-gitee ai-edit 将这些照片融合在一起，创建一个和谐的场景
```

### 3. 动态调整参数

根据生成效果动态调整参数：

```
# 如果图片不够清晰
/ai-gitee generate 一只可爱的猫咪，高质量，8K，细节丰富

# 如果颜色不够鲜艳
/ai-gitee generate 一只可爱的猫咪，鲜艳的色彩，高饱和度

# 如果想要特定风格
/ai-gitee generate 一只可爱的猫咪，油画风格，艺术感
```

### 4. 利用风格转换创造系列作品

```
# 创建同一角色的不同风格版本
/ai-gitee style 手办化 一个可爱的女孩
/ai-gitee style Q版化 一个可爱的女孩
/ai-gitee style cos化 一个可爱的女孩
/ai-gitee style 真人化 一个可爱的女孩
```

## 相关文档

- 📖 [快速开始](getting-started.md) - 安装和配置指南
- ⚙️ [配置说明](configuration.md) - 详细的配置选项
- 📐 [支持的图像尺寸](image-sizes.md) - 尺寸和比例详情
- 🖼️ [出图展示区](examples.md) - 生成示例和提示词技巧
- 🛠️ [故障排除](troubleshooting.md) - 常见问题解决

## 获取帮助

如果遇到问题：

1. 📖 查看本文档的相关章节
2. 💬 在 [GitHub Issues](https://github.com/xiaomizhoubaobei/astrbot_plugin_models_ai/issues) 提问
3. 👥 加入 QQ 群寻求帮助（群号见 README）
4. 📧 联系项目维护者

---

祝您使用愉快！🎨✨